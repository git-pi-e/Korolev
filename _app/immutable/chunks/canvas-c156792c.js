import{S as u,i as w,s as _,e as C,c as x,a as A,d as f,b as r,g as I,n as b,w as P,R as S}from"./index-426c992b.js";function E(s){let a;return{c(){a=C("canvas"),this.h()},l(e){a=x(e,"CANVAS",{class:!0,bg:!0}),A(a).forEach(f),this.h()},h(){r(a,"class","rx-max"),r(a,"bg",s[0])},m(e,i){I(e,a,i),s[5](a)},p(e,[i]){i&1&&r(a,"bg",e[0])},i:b,o:b,d(e){e&&f(a),s[5](null)}}}function M(s,a,e){let{image:i,height:c,width:l,bg:m}=a,n;P(()=>{let t=new Image;t.setAttribute("src",i),t.addEventListener("load",()=>{let h=n.getContext("2d"),[g,o]=[l,c];e(1,[n.height,n.width]=[o,g],n),h.drawImage(t,0,0,o,g),h.globalCompositeOperation="destination-in",h.beginPath(),h.arc(g/2,o/2,g/2,0,Math.PI*2),h.closePath(),h.fill()})});function d(t){S[t?"unshift":"push"](()=>{n=t,e(1,n)})}return s.$$set=t=>{"image"in t&&e(2,i=t.image),"height"in t&&e(3,c=t.height),"width"in t&&e(4,l=t.width),"bg"in t&&e(0,m=t.bg)},[m,n,i,c,l,d]}class q extends u{constructor(a){super(),w(this,a,M,E,_,{image:2,height:3,width:4,bg:0})}}export{q as C};
